<!DOCTYPE html>
<html lang="ja">
<head>
  <title>コードリファレンス</title>
  <meta charset="utf-8" />
  <meta name="author" content="mixtuti" />
  <!-- Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#1abc9c" id="meta-theme-color" />
  <meta property="og:url" content="https://mixtuti.github.io/Reference" />
  <meta property="og:title" content="コードリファレンス" />
  <meta property="og:type" content="website" />
  <meta name="”keywords”" content="コード、リファレンス">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <!-- Stylesheets -->
  <link href="css/style.css" rel="stylesheet" type="text/css">
</head>
<body>

  <h1>コードリファレンス</h1>

  <div class="search-box">
    🔍 クラス名:
    <input type="text" id="classSearch" placeholder="例: ScenesAutoUpdater">
    🔍 メソッド名:
    <input type="text" id="methodSearch" placeholder="例: UpdateBuildSettings">
    🔍 修飾子 / ラベル:
    <input type="text" id="labelSearch" placeholder="例: static">
  </div>

  <!-- メソッド: UpdateBuildSettings -->
  <div class="method-block" data-class="ScenesAutoUpdater" data-method="UpdateBuildSettings" data-labels="public static MenuItem">
    <div class="method-header">UpdateBuildSettings()</div>
    <div class="method-content">
      <div>
        <span class="clabel">ScenesAutoUpdater</span>
        <span class="mlabel">public</span>
        <span class="mlabel">static</span>
        <span class="mlabel">MenuItem</span>
      </div>
      <div class="description">
        <p>指定された <code>Assets/Scenes/Build</code> 内の <code>.unity</code> シーンファイルをスキャンして、Unityの <code>EditorBuildSettings</code> に自動登録します。</p>
        <ul>
          <li><code>First</code> フォルダ内のシーンは優先的に並べられる</li>
          <li>Unity エディタ起動時に自動で実行（<code>[InitializeOnLoad]</code>）</li>
          <li>エディタメニュー: 拡張機能 > ビルド関係 > Scenes Auto Updater</li>
        </ul>
      </div>
      <div class="ref">
        初期化時にも実行されます（<code>static constructor</code>による）。
      </div>
    </div>
  </div>

  <!-- メソッド: コンストラクタ -->
  <div class="method-block" data-class="ScenesAutoUpdater" data-method="constructor" data-labels="static constructor">
    <div class="method-header">ScenesAutoUpdater() [static constructor]</div>
    <div class="method-content">
        <span class="clabel">ScenesAutoUpdater</span>
      <span class="mlabel">static</span>
      <span class="mlabel">constructor</span>
      <div class="description">
        <p>Unityエディタが起動したタイミングで <code>UpdateBuildSettings()</code> を自動実行します。</p>
      </div>
    </div>
  </div>

  <div class="method-block" data-class="AudioFileManager" data-method="ShowWindow" data-labels="public static MenuItem">
    <div class="method-header">ShowWindow()</div>
    <div class="method-content">
      <div>
        <span class="clabel">AudioFileManager</span>
        <span class="mlabel">public</span>
        <span class="mlabel">static</span>
        <span class="mlabel">MenuItem</span>
      </div>
      <div class="description">
        <p>Unity のウィンドウメニューに「Audio File Manager」を追加し、選択時にウィンドウを表示します。</p>
      </div>
    </div>
  </div>

  <div class="method-block" data-class="AudioFileManager" data-method="OnGUI" data-labels="private override">
    <div class="method-header">OnGUI()</div>
    <div class="method-content">
      <div>
        <span class="clabel">AudioFileManager</span>
        <span class="mlabel">private</span>
        <span class="mlabel">override</span>
      </div>
      <div class="description">
        <p>エディタウィンドウの GUI を定義します。オーディオファイルの表示、タイトル編集、保存処理などを提供します。</p>
      </div>
    </div>
  </div>

  <div class="method-block" data-class="AudioFileManager" data-method="GetAudioFiles" data-labels="private">
    <div class="method-header">GetAudioFiles()</div>
    <div class="method-content">
      <div>
        <span class="clabel">AudioFileManager</span>
        <span class="mlabel">private</span>
      </div>
      <div class="description">
        <p>指定されたフォルダ（およびオプションで子階層）内の .wav / .mp3 ファイルを取得し、リストに格納します。</p>
      </div>
    </div>
  </div>

  <div class="method-block" data-class="AudioFileManager" data-method="CombineArrays" data-labels="private">
    <div class="method-header">CombineArrays(array1, array2)</div>
    <div class="method-content">
      <div>
        <span class="clabel">AudioFileManager</span>
        <span class="mlabel">private</span>
      </div>
      <div class="description">
        <p>2つの文字列配列を結合し、1つの配列として返します。</p>
      </div>
      <div class="param-box">
        <strong>引数:</strong>
        <ul>
          <li><code>string[] array1</code> – 結合元の1つ目の文字列配列</li>
          <li><code>string[] array2</code> – 結合元の2つ目の文字列配列</li>
        </ul>
      </div>
      <div class="return-box">
        <strong>戻り値:</strong> 
        <code>string[]</code> – 結合された文字列の配列
      </div>
    </div>
  </div>

  <div class="method-block" data-class="AudioFileManager" data-method="GetAudioClipDuration" data-labels="private">
    <div class="method-header">GetAudioClipDuration(filePath)</div>
    <div class="method-content">
      <div>
        <span class="clabel">AudioFileManager</span>
        <span class="mlabel">private</span>
      </div>
      <div class="description">
        <p>AudioClip をロードし、その再生時間（秒数）を取得します。</p>
      </div>
      <div class="param-box">
        <strong>引数:</strong>
        <ul>
          <li><code>string filePath</code> – 調査対象の AudioClip のファイルパス（Assets パス）</li>
        </ul>
      </div>
      <div class="return-box">
        <strong>戻り値:</strong> 
        <code>float</code> – AudioClip の長さ（秒）。ロード失敗時は <code>0f</code> を返します。
      </div>
    </div>
  </div>

  <div class="method-block" data-class="AudioFileManager" data-method="SaveAudioTitle" data-labels="private">
    <div class="method-header">SaveAudioTitle(filePath, newTitle)</div>
    <div class="method-content">
      <div>
        <span class="clabel">AudioFileManager</span>
        <span class="mlabel">private</span>
      </div>
      <div class="description">
        <p>タイトルの変更をファイル名として反映させ、AssetDatabase 上でリネーム処理を行います。</p>
      </div>
      <div class="param-box">
        <strong>引数:</strong>
        <ul>
          <li><code>string filePath</code> – 元のファイルパス</li>
          <li><code>string newTitle</code> – 新しいファイル名（拡張子なし）</li>
        </ul>
      </div>
      <div class="return-box">
        <strong>戻り値:</strong> なし（<code>void</code>）
      </div>
    </div>
  </div>

  <script>
    // 折りたたみ機能
    document.querySelectorAll('.method-header').forEach(header => {
      header.addEventListener('click', () => {
        const content = header.nextElementSibling;
        content.style.display = content.style.display === 'block' ? 'none' : 'block';
      });
    });

    // 検索機能（クラス・メソッド・ラベル）
    function filterReference() {
      const classQuery = document.getElementById('classSearch').value.toLowerCase().trim();
      const methodQuery = document.getElementById('methodSearch').value.toLowerCase().trim();
      const labelQuery = document.getElementById('labelSearch').value.toLowerCase().trim();

      document.querySelectorAll('.method-block').forEach(block => {
        const className = block.getAttribute('data-class').toLowerCase();
        const methodName = block.getAttribute('data-method').toLowerCase();
        const labels = block.getAttribute('data-labels').toLowerCase();

        const classMatch = classQuery === '' || className.includes(classQuery);
        const methodMatch = methodQuery === '' || methodName.includes(methodQuery);
        const labelMatch = labelQuery === '' || labels.includes(labelQuery);

        if (classMatch && methodMatch && labelMatch) {
          block.style.display = 'block';
        } else {
          block.style.display = 'none';
        }
      });
    }

    document.getElementById('classSearch').addEventListener('input', filterReference);
    document.getElementById('methodSearch').addEventListener('input', filterReference);
    document.getElementById('labelSearch').addEventListener('input', filterReference);
  </script>

</body>
</html>
